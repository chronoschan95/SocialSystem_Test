{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Icon from '@/components/common/Icon.vue';\nexport default {\n  name: 'Home',\n  components: {\n    Icon\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const showUserDropdown = ref(false);\n\n    // 主题相关\n    const isDarkMode = computed(() => store.state.theme.isDarkMode);\n    const toggleTheme = () => {\n      store.dispatch('theme/toggleTheme');\n    };\n\n    // 用户认证相关\n    const isAuthenticated = computed(() => store.state.auth.isAuthenticated);\n    const userAvatar = computed(() => store.state.auth.user?.avatar || '/default-avatar.png');\n    const username = computed(() => store.state.auth.user?.username || '');\n    const toggleUserDropdown = () => {\n      showUserDropdown.value = !showUserDropdown.value;\n    };\n    const handleLogout = async () => {\n      await store.dispatch('auth/logout');\n      router.push('/login');\n    };\n    return {\n      isDarkMode,\n      toggleTheme,\n      isAuthenticated,\n      userAvatar,\n      username,\n      showUserDropdown,\n      toggleUserDropdown,\n      handleLogout\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useStore","useRouter","Icon","name","components","setup","store","router","showUserDropdown","isDarkMode","state","theme","toggleTheme","dispatch","isAuthenticated","auth","userAvatar","user","avatar","username","toggleUserDropdown","value","handleLogout","push"],"sources":["/Users/chronoschan/Documents/SophomoreYear/JAVA/ExperimentX/CSys/V1/frontend/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"home\" :class=\"{ 'dark-mode': isDarkMode }\">\n    <!-- 顶部搜索栏 -->\n    <div class=\"search-header\">\n      <div class=\"header-content\">\n        <!-- 左侧 Logo -->\n        <router-link to=\"/\" class=\"logo-section\">\n          <img src=\"@/assets/logo.svg\" alt=\"Logo\" class=\"logo\" />\n          <span class=\"logo-text\">Social Platform</span>\n        </router-link>\n\n        <!-- 中间搜索框 -->\n        <div class=\"search-container\">\n          <Icon name=\"search\" class=\"search-icon\" />\n          <input type=\"text\" placeholder=\"搜索\" class=\"search-input\" />\n          <button class=\"search-btn\">搜索</button>\n        </div>\n\n        <!-- 右侧操作区 -->\n        <div class=\"header-actions\">\n          <!-- 主题切换 -->\n          <button class=\"theme-toggle\" @click=\"toggleTheme\">\n            <Icon :name=\"isDarkMode ? 'moon' : 'sun'\" />\n          </button>\n\n          <!-- 未登录状态 -->\n          <template v-if=\"!isAuthenticated\">\n            <router-link to=\"/login\" class=\"auth-btn login\">登录</router-link>\n            <router-link to=\"/register\" class=\"auth-btn register\">注册</router-link>\n          </template>\n\n          <!-- 已登录状态 -->\n          <template v-else>\n            <div class=\"user-menu\" @click=\"toggleUserDropdown\">\n              <img :src=\"userAvatar\" :alt=\"username\" class=\"avatar\" />\n              <div class=\"dropdown-menu\" v-if=\"showUserDropdown\">\n                <router-link to=\"/profile\" class=\"menu-item\">\n                  <Icon name=\"user\" />\n                  <span>个人主页</span>\n                </router-link>\n                <router-link to=\"/settings\" class=\"menu-item\">\n                  <Icon name=\"settings\" />\n                  <span>设置</span>\n                </router-link>\n                <div class=\"menu-divider\"></div>\n                <button class=\"menu-item logout\" @click=\"handleLogout\">\n                  <Icon name=\"logout\" />\n                  <span>退出登录</span>\n                </button>\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <!-- 主要内容区 -->\n    <div class=\"main-container\">\n      <!-- 左侧导航 -->\n      <nav class=\"left-nav\">\n        <div class=\"nav-section\">\n          <div class=\"nav-item active\">\n            <Icon name=\"fire\" />\n            <span>热门推荐</span>\n          </div>\n          <div class=\"nav-item\">\n            <Icon name=\"chart\" />\n            <span>热门榜单</span>\n          </div>\n          <div class=\"nav-item\">\n            <Icon name=\"search\" />\n            <span>搜索发现</span>\n          </div>\n        </div>\n\n        <div class=\"nav-divider\"></div>\n\n        <div class=\"nav-section\">\n          <div class=\"nav-item\">\n            <Icon name=\"user\" />\n            <span>我的</span>\n          </div>\n          <div class=\"nav-item\">\n            <Icon name=\"hot\" />\n            <span>热搜</span>\n          </div>\n          <div class=\"nav-item\">\n            <Icon name=\"chat\" />\n            <span>交流</span>\n          </div>\n          <div class=\"nav-item\">\n            <Icon name=\"more\" />\n            <span>更多</span>\n          </div>\n        </div>\n      </nav>\n\n      <!-- 中间内容区 -->\n      <main class=\"content-area\">\n        <!-- 顶部导航栏 -->\n        <div class=\"content-nav\">\n          <div class=\"nav-tabs\">\n            <div class=\"tab-item active\">热门</div>\n            <div class=\"tab-item\">实时</div>\n            <div class=\"tab-item\">同校</div>\n            <div class=\"tab-item\">榜单</div>\n            <div class=\"tab-item\">隐私记录</div>\n            <div class=\"tab-item\">校园新闻</div>\n          </div>\n        </div>\n\n        <!-- 内容卡片 -->\n        <div class=\"content-cards\">\n          <div class=\"card privacy-record\">\n            <div class=\"card-header\">\n              <div class=\"user-info\">\n                <img :src=\"userAvatar\" class=\"avatar\" />\n                <div class=\"info\">\n                  <span class=\"username\">{{ username }}</span>\n                  <span class=\"time\">15分钟前</span>\n                </div>\n              </div>\n              <span class=\"version-tag\">v1.2</span>\n            </div>\n\n            <div class=\"card-content\">\n              <h3>咖啡配方记录</h3>\n              <p>今天尝试了新的咖啡豆配比：巴西Santos 60% + 耶加雪菲 40%</p>\n              \n              <div class=\"tags\">\n                <span class=\"tag\">#咖啡</span>\n                <span class=\"tag\">#配方</span>\n                <span class=\"tag\">#记录</span>\n              </div>\n            </div>\n\n            <div class=\"card-actions\">\n              <button class=\"action-btn\">\n                <Icon name=\"history\" />\n                <span>历史版本</span>\n              </button>\n              <button class=\"action-btn\">\n                <Icon name=\"edit\" />\n                <span>编辑</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <!-- 右侧热门话题 -->\n      <aside class=\"right-sidebar\">\n        <div class=\"trending-section\">\n          <div class=\"section-header\">\n            <h3>热搜榜</h3>\n            <button class=\"refresh-btn\">\n              <Icon name=\"refresh\" />\n              <span>点击刷新</span>\n            </button>\n          </div>\n\n          <div class=\"trending-list\">\n            <div class=\"trending-item\">\n              <span class=\"rank\">1</span>\n              <div class=\"topic-info\">\n                <span class=\"topic-name\"># 校园生活</span>\n                <span class=\"topic-count\">1234条讨论</span>\n              </div>\n            </div>\n            <!-- 更多热搜项... -->\n          </div>\n        </div>\n      </aside>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport Icon from '@/components/common/Icon.vue'\n\nexport default {\n  name: 'Home',\n  components: { Icon },\n  \n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    const showUserDropdown = ref(false)\n\n    // 主题相关\n    const isDarkMode = computed(() => store.state.theme.isDarkMode)\n    const toggleTheme = () => {\n      store.dispatch('theme/toggleTheme')\n    }\n\n    // 用户认证相关\n    const isAuthenticated = computed(() => store.state.auth.isAuthenticated)\n    const userAvatar = computed(() => store.state.auth.user?.avatar || '/default-avatar.png')\n    const username = computed(() => store.state.auth.user?.username || '')\n\n    const toggleUserDropdown = () => {\n      showUserDropdown.value = !showUserDropdown.value\n    }\n\n    const handleLogout = async () => {\n      await store.dispatch('auth/logout')\n      router.push('/login')\n    }\n\n    return {\n      isDarkMode,\n      toggleTheme,\n      isAuthenticated,\n      userAvatar,\n      username,\n      showUserDropdown,\n      toggleUserDropdown,\n      handleLogout\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.home {\n  min-height: 100vh;\n  background: var(--background-color);\n  \n  .search-header {\n    padding: 12px 0;\n    background: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(10px);\n    position: sticky;\n    top: 0;\n    z-index: 100;\n\n    .header-content {\n      max-width: 1200px;\n      margin: 0 auto;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 20px;\n\n      .logo-section {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        text-decoration: none;\n        color: var(--text-color);\n\n        .logo {\n          width: 32px;\n          height: 32px;\n        }\n\n        .logo-text {\n          font-size: 18px;\n          font-weight: 600;\n        }\n      }\n\n      .header-actions {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n\n        .theme-toggle {\n          width: 36px;\n          height: 36px;\n          border-radius: 50%;\n          border: none;\n          background: rgba(255, 255, 255, 0.1);\n          color: var(--text-color);\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n\n          &:hover {\n            background: rgba(255, 255, 255, 0.2);\n          }\n        }\n\n        .auth-btn {\n          padding: 8px 16px;\n          border-radius: 20px;\n          text-decoration: none;\n          font-size: 14px;\n\n          &.login {\n            color: var(--text-color);\n            background: rgba(255, 255, 255, 0.1);\n\n            &:hover {\n              background: rgba(255, 255, 255, 0.2);\n            }\n          }\n\n          &.register {\n            color: white;\n            background: var(--primary-color);\n\n            &:hover {\n              opacity: 0.9;\n            }\n          }\n        }\n\n        .user-menu {\n          position: relative;\n          cursor: pointer;\n\n          .avatar {\n            width: 36px;\n            height: 36px;\n            border-radius: 50%;\n          }\n\n          .dropdown-menu {\n            position: absolute;\n            top: 100%;\n            right: 0;\n            margin-top: 8px;\n            background: var(--background-color);\n            border-radius: 12px;\n            padding: 8px;\n            min-width: 180px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n\n            .menu-item {\n              display: flex;\n              align-items: center;\n              gap: 8px;\n              padding: 12px;\n              color: var(--text-color);\n              text-decoration: none;\n              border-radius: 8px;\n\n              &:hover {\n                background: rgba(255, 255, 255, 0.1);\n              }\n\n              &.logout {\n                color: #ff4d4f;\n                width: 100%;\n                border: none;\n                background: none;\n                cursor: pointer;\n                text-align: left;\n              }\n            }\n\n            .menu-divider {\n              height: 1px;\n              background: rgba(255, 255, 255, 0.1);\n              margin: 8px 0;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .main-container {\n    display: grid;\n    grid-template-columns: 240px 1fr 300px;\n    gap: 20px;\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n  }\n\n  .left-nav {\n    position: sticky;\n    top: 80px;\n    \n    .nav-section {\n      .nav-item {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        padding: 12px 16px;\n        border-radius: 8px;\n        cursor: pointer;\n        \n        &:hover {\n          background: rgba(255, 255, 255, 0.1);\n        }\n        \n        &.active {\n          color: var(--primary-color);\n        }\n      }\n    }\n    \n    .nav-divider {\n      height: 1px;\n      background: rgba(255, 255, 255, 0.1);\n      margin: 12px 0;\n    }\n  }\n\n  .content-area {\n    .content-nav {\n      margin-bottom: 20px;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n      \n      .nav-tabs {\n        display: flex;\n        gap: 32px;\n        \n        .tab-item {\n          padding: 12px 0;\n          cursor: pointer;\n          position: relative;\n          \n          &.active::after {\n            content: '';\n            position: absolute;\n            bottom: -1px;\n            left: 0;\n            right: 0;\n            height: 2px;\n            background: var(--primary-color);\n          }\n        }\n      }\n    }\n    \n    .privacy-record {\n      background: rgba(255, 255, 255, 0.1);\n      border-radius: 12px;\n      padding: 20px;\n      margin-bottom: 20px;\n      \n      .card-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 16px;\n        \n        .user-info {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          \n          .avatar {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n          }\n          \n          .info {\n            display: flex;\n            flex-direction: column;\n            \n            .time {\n              font-size: 14px;\n              opacity: 0.7;\n            }\n          }\n        }\n        \n        .version-tag {\n          padding: 4px 8px;\n          background: var(--primary-color);\n          border-radius: 12px;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n\n  .right-sidebar {\n    position: sticky;\n    top: 80px;\n    \n    .trending-section {\n      background: rgba(255, 255, 255, 0.1);\n      border-radius: 12px;\n      padding: 16px;\n      \n      .section-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 16px;\n      }\n      \n      .trending-item {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        padding: 12px 0;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n        \n        .rank {\n          font-size: 20px;\n          font-weight: bold;\n          opacity: 0.5;\n        }\n        \n        .topic-info {\n          display: flex;\n          flex-direction: column;\n          \n          .topic-count {\n            font-size: 14px;\n            opacity: 0.7;\n          }\n        }\n      }\n    }\n  }\n}\n\n// 主题相关样式\n:root {\n  --background-color: #ffffff;\n  --text-color: #333333;\n  --primary-color: #ff6b6b;\n}\n\n.dark-mode {\n  --background-color: #1a1a1a;\n  --text-color: #ffffff;\n}\n</style> "],"mappings":"AAkLA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,YAAW;AACrC,OAAOC,IAAG,MAAO,8BAA6B;AAE9C,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;IAAEF;EAAK,CAAC;EAEpBG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIN,QAAQ,CAAC;IACvB,MAAMO,MAAK,GAAIN,SAAS,CAAC;IACzB,MAAMO,gBAAe,GAAIV,GAAG,CAAC,KAAK;;IAElC;IACA,MAAMW,UAAS,GAAIV,QAAQ,CAAC,MAAMO,KAAK,CAACI,KAAK,CAACC,KAAK,CAACF,UAAU;IAC9D,MAAMG,WAAU,GAAIA,CAAA,KAAM;MACxBN,KAAK,CAACO,QAAQ,CAAC,mBAAmB;IACpC;;IAEA;IACA,MAAMC,eAAc,GAAIf,QAAQ,CAAC,MAAMO,KAAK,CAACI,KAAK,CAACK,IAAI,CAACD,eAAe;IACvE,MAAME,UAAS,GAAIjB,QAAQ,CAAC,MAAMO,KAAK,CAACI,KAAK,CAACK,IAAI,CAACE,IAAI,EAAEC,MAAK,IAAK,qBAAqB;IACxF,MAAMC,QAAO,GAAIpB,QAAQ,CAAC,MAAMO,KAAK,CAACI,KAAK,CAACK,IAAI,CAACE,IAAI,EAAEE,QAAO,IAAK,EAAE;IAErE,MAAMC,kBAAiB,GAAIA,CAAA,KAAM;MAC/BZ,gBAAgB,CAACa,KAAI,GAAI,CAACb,gBAAgB,CAACa,KAAI;IACjD;IAEA,MAAMC,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,MAAMhB,KAAK,CAACO,QAAQ,CAAC,aAAa;MAClCN,MAAM,CAACgB,IAAI,CAAC,QAAQ;IACtB;IAEA,OAAO;MACLd,UAAU;MACVG,WAAW;MACXE,eAAe;MACfE,UAAU;MACVG,QAAQ;MACRX,gBAAgB;MAChBY,kBAAkB;MAClBE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}